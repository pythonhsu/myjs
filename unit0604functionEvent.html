<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Function and Event</title>

    <style>
        div,button{
            width: 100%;
            height: 7vh;
            padding-top: 0.8em;
            padding-bottom: 0.8em;
            margin-top:0.8em ;
            border: 1px gold solid;
            border-radius: 50px;
            display:flex;
            justify-content: center;
            align-items: center;
            font-size: 1.25rem;
        }
    </style>
</head>
<body>

    <h1>函數與事件</h1>
    <div id="divMorning">Good Morning</div>
    <div id="divAfternoon">Good Afternoon</div>
    <div id="divLucky">Lucky Number</div>
    <button id="btnStop" style="display: none;">STOP</button>
    

    <script>

/*
        var i=100;
        const j=100;

        i=200;
        //j=200;    error

        console.log("i=",i);
        console.log("j=",j);

*/


        //常數物件變數,物件的屬性是可變的
        const divMorning=document.getElementById('divMorning');
        const divAfternoon=document.getElementById('divAfternoon');
        const divLucky=document.getElementById('divLucky');
        const btnStop=document.getElementById('btnStop');

        /*
        事件
        1.直接HTML 標籤內調用
        2.物件.事件
        3.物件.監聽(傾聽)
        */

        //物件.事件
        divMorning.onclick=function(){
            window.alert('歐嗨優!!');
        }

        divMorning.onmouseover=function(){
            this.innerHTML="早安";
            this.style.cursor='pointer';
            setBG(this);
        }

        divMorning.onmouseout=function(){
            this.innerHTML="Good Morning";            
            clearBG(this);
        }


        //物件.監聽
        divAfternoon.addEventListener('click',greeting);

        divAfternoon.addEventListener('mouseenter',function(){
            this.innerHTML="午安";
            this.style.cursor='pointer';
            setBG(this);
        });

        divAfternoon.addEventListener('mouseleave',function(){
            this.innerHTML="Good Afternoon";            
            clearBG(this);
        });

        divLucky.addEventListener('mouseover',function(){
            //this.style.height='20vh';            
            this.style.fontSize='5em';
            btnStop.style.display='block';
        });

        divLucky.addEventListener('mousemove',getNumber);
        btnStop.addEventListener('click',removeEventListener);



        //設定背景
        function setBG(obj){
            obj.style.backgroundColor='pink';
        }

        //還原背景
        function clearBG(obj){
            obj.style.backgroundColor='inherit';
        }

        //午安問候函數
        function greeting(){
            window.alert('扣尼吉哇');
        }

        //產生幸運號碼
        function getNumber(){
            var num=Math.floor(Math.random()*49)+1;
            divLucky.innerHTML=num;
        }
        

        //移除滑鼠移動mousemove 的監聽
        function removeEventListener(){
            divLucky.removeEventListener('mousemove',getNumber);
            window.alert('不再產生幸運數字');
        }


/*
        var r=Math.random();
        var c=Math.ceil(r*48)+1;
        var f=Math.floor(r*49)+1;

        console.log("r=",r);
        console.log("c=",c);
        console.log("f=",f);
*/

    </script>
</body>
</html>