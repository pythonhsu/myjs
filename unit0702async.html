<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript async and await</title>
</head>
<body>
    <h1>JavaScript async and await</h1>
    <hr>

    <script>

        /*
        在js中,async 和await 要擷取資料時,要等待promise,必須要使用非同步操作
        將自動傳回一個promise
        */

         //建立一個非同步(async)的函數
         async function fetchGovData(){

            //等待fetch 請求完成
            let response= await fetch('https://apiservice.mol.gov.tw/OdService/download/A17000000J-030243-YTl');
            

            //等待回應解析為JSON 
            let data=await response.json();

            console.log(data);
            document.write('擷取資料成功');
         }

         fetchGovData();

    </script>
   
    
    
</body>
</html>